---
import Main from "@/layouts/Main.astro";
import Layout from "@/layouts/Layout.astro";
import Header from "@/components/Header.astro";
import Footer from "@/components/Footer.astro";
import { SITE } from "@/config";
import { useTranslations, type Lang } from "@/i18n/ui";
import { navigationData } from "@/data/navigation";

export function getStaticPaths() {
  return [
    { params: { lang: "zh" } },
  ];
}

const { lang } = Astro.params as { lang: Lang };
const t = useTranslations(lang as Lang);
---

<Layout title={`${t("page.tags")} | ${SITE.title}`}>
  <Header lang={lang} />
  <Main pageTitle={t("page.tags")} pageDesc={t("page.tagsDesc")} lang={lang}>
    <div class="space-y-8">
      {navigationData.map(category => (
        <section class="navigation-category">
          <h2 class="text-xl font-semibold mb-4 text-accent">{category.name}</h2>
          <ul class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
            {category.links.map(link => (
              <li class="border border-border rounded-lg p-4 hover:shadow-lg transition-shadow">
                <a 
                  href={link.url} 
                  target="_blank" 
                  rel="noopener noreferrer"
                  class="block group"
                >
                  <h3 class="font-medium text-lg mb-2 group-hover:text-accent transition-colors">
                    {link.title}
                  </h3>
                  {link.description && (
                    <p class="text-sm text-gray-600 dark:text-gray-400">
                      {link.description}
                    </p>
                  )}
                </a>
              </li>
            ))}
          </ul>
        </section>
      ))}
    </div>
  </Main>
  <Footer lang={lang} />
</Layout>

